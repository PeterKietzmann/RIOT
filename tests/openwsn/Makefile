APPLICATION = openwsn_test
include ../Makefile.tests_common

BOARD ?= iotlab-m3

USEPKG += openwsn

CFLAGS += -DTHREAD_STACKSIZE_MAIN=10000
CFLAGS += -DISR_STACKSIZE=1024
CFLAGS += -DDAGROOT
CFLAGS += -DDEVELHELP

ifneq (,$(filter nucleo-f103,$(BOARD)))
    USEMODULE += at86rf233

    CFLAGS += -DAUTO_INIT_LED0

    CFLAGS += -DAT86RF2XX_PARAM_SPI=SPI_DEV\(0\)
    CFLAGS += -DAT86RF2XX_PARAM_SPI_CLK=SPI_CLK_5MHZ
    CFLAGS += -DAT86RF2XX_PARAM_CS=GPIO_PIN\(1,1\)
    CFLAGS += -DAT86RF2XX_PARAM_INT=GPIO_PIN\(1,13\)
    CFLAGS += -DAT86RF2XX_PARAM_SLEEP=GPIO_PIN\(1,15\)
    CFLAGS += -DAT86RF2XX_PARAM_RESET=GPIO_PIN\(1,14\)
endif

include $(RIOTBASE)/Makefile.include
