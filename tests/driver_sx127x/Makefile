include ../Makefile.tests_common

BOARD_INSUFFICIENT_MEMORY := nucleo32-f031

BOARD ?= nucleo-l152

USEMODULE += od
USEMODULE += shell
USEMODULE += shell_commands
USEMODULE += ps
USEMODULE += xtimer
FEATURES_REQUIRED ?= periph_spi
FEATURES_REQUIRED ?= periph_gpio
CFLAGS += -DDEVELHELP

DRIVER ?= sx1276
# use SX1276 by default
USEMODULE += ${DRIVER}
ifneq (,$(filter samr21-xpro,$(BOARD)))
  CFLAGS += -DSX127X_PARAM_SPI=SPI_DEV\(1\)
  CFLAGS += -DSX127X_PARAM_SPI_NSS=GPIO_PIN\(1,3\)
  CFLAGS += -DSX127X_PARAM_RESET=GPIO_PIN\(0,14\)
  CFLAGS += -DSX127X_PARAM_DIO0=GPIO_PIN\(0,16\)
  CFLAGS += -DSX127X_PARAM_DIO1=GPIO_PIN\(0,17\)
  CFLAGS += -DSX127X_PARAM_DIO2=GPIO_PIN\(0,8\)
  CFLAGS += -DSX127X_PARAM_DIO3=GPIO_PIN\(0,15\)
endif

include $(RIOTBASE)/Makefile.include
